<div fxLayout="column" fxLayoutAlign="center center">
    <mat-card fxLayout="row" fxFlex="100" fxLayoutAlign="center" class="container-bloc">
        <form [formGroup]="promoForm" (ngSubmit)="onSubmitForm()" *ngIf="promoForm" fxFlex="100" fxLayoutAlign="stretch"
            fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="10px">
            <!-- <mat-toolbar fxLayoutAlign="center center">Modification de promo</mat-toolbar> -->
            <div fxFlex="50" fxLayout="column">
                <mat-form-field appearance="outline">
                    <mat-label>Titre</mat-label>
                    <input matInput formControlName="titre">
                    <mat-error *ngIf="promoForm.controls.titre.errors && promoForm.controls.titre.errors.required">
                        *Champs obligatoire
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Description</mat-label>
                    <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="3"
                        formControlName="description"></textarea>
                    <mat-error
                        *ngIf="promoForm.controls.description.errors && promoForm.controls.description.errors.required">
                        *Champs obligatoire
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Lieu de la promotion</mat-label>
                    <input matInput formControlName="lieu">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Référence Agate</mat-label>
                    <input matInput formControlName="referenceagate">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Langue</mat-label>
                    <mat-select formControlName="langue" matInput>
                        <mat-option value="Anglais">Anglais</mat-option>
                        <mat-option value="Français">Français</mat-option>
                        <mat-option value="Wolof">Wolof</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Choix de fabrique</mat-label>
                    <mat-select formControlName="choixdefabrique">
                        <mat-option value="Sonatel Academy">Sonatel Academy</mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="promoForm.controls.choixdefabrique.errors && promoForm.controls.choixdefabrique.errors.required">
                        *Champs obligatoire
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50" fxLayout="column">
                <mat-form-field appearance="outline">
                    <mat-label>Date début</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="datedebut">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error
                        *ngIf="promoForm.controls.datedebut.errors && promoForm.controls.datedebut.errors.required">
                        *Champs obligatoire
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Date fin</mat-label>
                    <input matInput [matDatepicker]="picker1" formControlName="datefin">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                    <mat-error *ngIf="promoForm.controls.datefin.errors && promoForm.controls.datefin.errors.required">
                        *Champs obligatoire
                    </mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Référentiel</mat-label>
                    <mat-select formControlName="referentiel">
                        <p *ngFor="let referentiel of referentiels">
                            <mat-option value={{referentiel.libelle}}>{{referentiel.libelle}}</mat-option>
                        </p>
                    </mat-select>
                    <mat-error
                        *ngIf="promoForm.controls.referentiel.errors && promoForm.controls.referentiel.errors.required">
                        *Champs obligatoire
                    </mat-error>
                </mat-form-field>
                <div style="margin-bottom: 20px;">
                    <div>
                        <img class="view-avatar-promo" [src]="imgSource" alt="" style="margin-right: 5px;">
                    </div>
                    <mat-label>Avatar</mat-label>

                    <input type="file" name="avatar" (change)="onFileSelect($event)">
                </div>
                <mat-error
                    *ngIf="promoForm.controls.avatar && promoForm.controls.avatar.errors && promoForm.controls.avatar.errors.requiredFileType">
                    *Type de fichier invalide</mat-error>
                <div fxLayout="column" fxLayoutGap="10px">

                    <button mat-raised-button color="primary" type="submit" style="margin-top: 10px;" [disabled]="!promoForm.valid">Modifier</button>
                    <button mat-raised-button color="accent" type="reset" (click)="onCanvelUpdate()">Annuler</button>
                </div>
            </div>
        </form>
    </mat-card>
</div>